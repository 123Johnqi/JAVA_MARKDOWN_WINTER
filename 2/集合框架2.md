# 集合框架2 Collection_Set

![](images/2024-03-25-19-00-04.png)

## 集合体系

![](images/2024-03-25-18-54-44.png)

## HashSet

创建HashSet的集合对象：

```java
Set<E> set = new HashSet<>();//这是一行常用的代码
```

>HashSet的无序指的**不是**每一次运行程序时的顺序都不同，而是一次执行完以后，后面的顺序都跟第一次执行时相同

### 哈希值

![](images/2024-03-25-19-01-01.png)

### 底层原理

![](images/2024-03-25-19-01-33.png)

![](images/2024-03-25-19-02-24.png)

## 如果数组快占满了，会出什么问题？该怎么办？

* 链表会过长，导致查询性能降低
* 扩容

扩容指根据加载因子：

>16 * 0.75 = 12

可得到一旦数组中的元素超过12个，将会扩容至原数组的两倍大小

然而即使扩容，仍然有链表可能长度超过8，因此：

![](images/2024-03-25-19-06-58.png)

![](images/2024-03-25-19-07-15.png)

对上述红黑树，小的数将往左边走，大的数将往右边走

## 红黑树

![](images/2024-03-25-19-08-27.png)

## 去重复机制

HashSet集合默认不能对内容一样的两个不同对象去重复

>即内容一样的两个对象存入HashSet集合时，不能去重复

### 重写hashCode()和equals()方法

![](images/2024-03-30-16-43-42.png)

只有当哈希值一样时，两个对象才能在一个链表中通过比较内容是否相同来去重复


![](images/2024-03-30-16-52-26.png)


## LinkedHashSet

![](images/2024-03-31-11-26-53.png)

>通过占用内存，使得有序

## TreeSet

![](images/2024-03-31-11-28-08.png)

### 自定义排序规则

![](images/2024-03-31-11-28-28.png)

## 总结

![](images/2024-03-31-11-29-16.png)

## 集合的并发修改异常

![](images/2024-03-31-11-30-58.png)

## 可变参数

![](images/2024-03-31-11-32-47.png)

![](images/2024-03-31-11-33-33.png)

## Collections工具类

![](images/2024-03-31-11-34-11.png)

![](images/2024-03-31-11-35-08.png)

对于sort，制定比较规则：

![](images/2024-03-31-11-36-16.png)

![](images/2024-03-31-11-36-35.png)

![](images/2024-03-31-11-36-54.png)

